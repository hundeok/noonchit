// lib/domain/repositories/market_mood_repository.dart
// ğŸ¯ Domain Layer: Repository ì¸í„°í˜ì´ìŠ¤ (í´ë¦° ì•„í‚¤í…ì²˜ ì¤€ìˆ˜)

import '../entities/market_mood.dart';

/// ğŸ“Š ë§ˆì¼“ë¬´ë“œ ì €ì¥ì†Œ ì¸í„°í˜ì´ìŠ¤
/// Data Layerì—ì„œ êµ¬í˜„í•´ì•¼ í•  ê³„ì•½ì„ ì •ì˜ (Domain â†’ Data ì˜ì¡´ì„± ì œê±°)
abstract class MarketMoodRepository {
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ“¡ ì›ê²© ë°ì´í„° (CoinGecko API)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  /// ê¸€ë¡œë²Œ ë§ˆì¼“ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ (30ë¶„ ì£¼ê¸°)
  Stream<MarketMoodData> getMarketDataStream();
  
  /// í˜„ì¬ ë§ˆì¼“ ë°ì´í„° í•œ ë²ˆ ì¡°íšŒ
  Future<MarketMoodData?> getCurrentMarketData();
  
  /// í˜„ì¬ USD/KRW í™˜ìœ¨ ì¡°íšŒ (ìºì‹œ í¬í•¨)
  Future<double> getExchangeRate();
  
  /// í™˜ìœ¨ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨
  Future<void> refreshExchangeRate();
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ’¾ ë¡œì»¬ ë°ì´í„° (Hive ë³¼ë¥¨ ë²„í¼)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  /// ë³¼ë¥¨ ë°ì´í„° ì¶”ê°€ (30ë¶„ë§ˆë‹¤)
  Future<void> addVolumeData(VolumeData volume);
  
  /// Në¶„ ì „ ë³¼ë¥¨ ë°ì´í„° ì¡°íšŒ
  Future<VolumeData?> getVolumeNMinutesAgo(int minutes);
  
  /// íŠ¹ì • ê¸°ê°„ì˜ í‰ê·  ë³¼ë¥¨ ê³„ì‚°
  Future<double?> getAverageVolume(int days);
  
  /// ìˆ˜ì§‘ëœ ë°ì´í„° ê°œìˆ˜ í™•ì¸
  Future<int> getCollectedDataCount();
  
  /// ì•± ì‹œì‘ ì‹œê°„ ì¡°íšŒ
  DateTime getAppStartTime();
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ§¹ ê´€ë¦¬ ê¸°ëŠ¥
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  /// ë°±ê·¸ë¼ìš´ë“œ ë³µê·€ ì‹œ ëˆ„ë½ëœ ìŠ¬ë¡¯ ë³´ì •
  Future<void> syncMissingData();
  
  /// ì˜¤ë˜ëœ ë°ì´í„° ì •ë¦¬
  Future<void> clearOldData();
  
  /// ì‹œìŠ¤í…œ í—¬ìŠ¤ì²´í¬
  Future<Map<String, dynamic>> getSystemHealth();
  
  /// í˜„ì¬ ìƒíƒœ ë¡œê¹…
  Future<void> logCurrentStatus();
  
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ› ï¸ ê°œë°œ/í…ŒìŠ¤íŠ¸ìš© ê¸°ëŠ¥
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  /// í…ŒìŠ¤íŠ¸ ë°ì´í„° ì£¼ì…
  Future<void> injectTestVolumeData(List<VolumeData> testData);
}